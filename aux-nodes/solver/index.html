<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../material-models/soft-collider/">
      
      
        <link rel="next" href="../property-map-in-blender/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>Solver - HiPhyEngine</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.9f615399.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.649f08f9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../styles/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#solver" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="HiPhyEngine" class="md-header__button md-logo" aria-label="HiPhyEngine" data-md-component="logo">
      
  <img src="../../images/hiphy-logo-mid.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HiPhyEngine
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Solver
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-label="Switch to system preference" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="HiPhyEngine" class="md-nav__button md-logo" aria-label="HiPhyEngine" data-md-component="logo">
      
  <img src="../../images/hiphy-logo-mid.png" alt="logo">

    </a>
    HiPhyEngine
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2">
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Quick Start
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/quick-start-blender/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blender Quick Start
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Overview
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/how-hiphyengine-blender-addon-works/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How HiPhyEngine Blender Addon Works
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4">
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Material Models
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Material Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../material-models/material-models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../material-models/affine-body/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Affine Body
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../material-models/elastic-rod/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Elastic Rod
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../material-models/cloth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../material-models/deformable-body/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deformable Body
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../material-models/soft-collider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Soft Collider
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Auxiliary Nodes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Auxiliary Nodes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Solver
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Solver
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#solver-space" class="md-nav__link">
    Solver Space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solver-scale-and-model-unit" class="md-nav__link">
    Solver Scale, and Model Unit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cache-management" class="md-nav__link">
    Cache Management
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    Properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#number-of-subframes" class="md-nav__link">
    Number of Subframes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subframe-interpolation" class="md-nav__link">
    Subframe interpolation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solver-tolerance-and-simulation-performance" class="md-nav__link">
    Solver Tolerance and Simulation Performance
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../property-map-in-blender/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Property Map in Blender
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../constraints-in-blender/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constraints in Blender
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../force-field-and-expression-in-blender/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Force Field and Expression in Blender
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#solver-space" class="md-nav__link">
    Solver Space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solver-scale-and-model-unit" class="md-nav__link">
    Solver Scale, and Model Unit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cache-management" class="md-nav__link">
    Cache Management
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    Properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#number-of-subframes" class="md-nav__link">
    Number of Subframes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subframe-interpolation" class="md-nav__link">
    Subframe interpolation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solver-tolerance-and-simulation-performance" class="md-nav__link">
    Solver Tolerance and Simulation Performance
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="solver">Solver<a class="headerlink" href="#solver" title="Permanent link">#</a></h1>
<p>Solver nodes manage all global simulation parameters, simulation states, and the simulation cache. HiPhyEngine allows multiple solvers in the same scene. Though HiPhyEngine allows full coupling of all different material models, for performance and artistic iterative workflow, when possible, it is still recommended to split out different materials (such as hair, cloth, and body of the same character).</p>
<h2 id="solver-space">Solver Space<a class="headerlink" href="#solver-space" title="Permanent link">#</a></h2>
<p>Solver node can be represented by any type of object. In the quick-start example, we used an empty axis object in Blender. Though the solver node is not rendered, the transformation of the solver node is still critical to the simulation. It defines the <strong>solver space</strong>. The <strong>solver space</strong>, is the object space of the solver node, it defines where the solver consider the origin, orientation, and scale is in the simulation.</p>
<p>A common use of the <strong>solver space</strong> is for reducing numerical issues. For instance, if the shot is far from the origin (for instance, 1000s of units off), in such cases, the numerical effectiveness of the simulator will be significantly reduced, if the simulation runs in the world space. However, by moving the solver node to where the shot is, this numerical issue can be significantly mitigated.</p>
<p>Another use of the <strong>solver space</strong> is to reduce motion introduced by animation using animated <strong>solver space</strong>. For instance, a character running or turning at a fast speed, to reduce or remove the motion introduced by such motion, user can make the solver node follow the animated character, this can remove/reduce the motion's effect on the simulation.</p>
<div class="admonition note">
<p class="admonition-title">Scaling the solver node</p>
<p><strong>DO NOT</strong> introduce scaling on the solver node, especially non-uniform scaling. The simulator will accept it as input, but there is no guarantee all parameters will be scaled accordingly. If you wish to scale the simulation space, for instance, for the purpose of unit conversion, use the <strong>solver scale</strong> parameter.</p>
</div>
<p>You can find an example of multi-solver set up, and moving <strong>solver space</strong> <a href="../../demos/solver-space-demo.blend">here</a>. In the example, you can see the moving <strong>solver space</strong> eliminated the effect of the moving point constraint. </p>
<figure class="center-figure">
  <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../images/aux-nodes/solver-space.png" data-desc-position="bottom"><img alt="Solver Space" src="../../images/aux-nodes/solver-space.png" width="300"></a>
</figure>
<h2 id="solver-scale-and-model-unit">Solver Scale, and Model Unit<a class="headerlink" href="#solver-scale-and-model-unit" title="Permanent link">#</a></h2>
<p>The internal length unit of HiPhyEngine is <span class="arithmatex">\(cm\)</span>. Instead of requiring users to manually convert all parameters to <span class="arithmatex">\(cm\)</span>, HiPhyEngine provides a single parameter, <strong>solver scale</strong>, for unit conversion. For instance, if the scene is in <span class="arithmatex">\(inch\)</span>, user can set the <strong>solver scale</strong> to <span class="arithmatex">\(2.54\)</span>, then HiPhyEngine will internally scale up the scene by <span class="arithmatex">\(2.54\)</span>, effectively converts the units from <span class="arithmatex">\(inch\)</span> to <span class="arithmatex">\(cm\)</span>.</p>
<p>Some parameters in HiPhyEngine is labeled as <strong>model unit</strong>s instead of standard <strong>cm</strong>. Those parameters will be scaled with <strong>solver scale</strong> internally. The reason for HiPhyEngine to use <strong>model unit</strong> instead of <strong>cm</strong> is to make it easier for user to measure those parameters in the scene. For instance, <strong>collision thickness/radius</strong> and <strong>deformable body grid size</strong> are measured in <strong>model unit</strong>.</p>
<h2 id="cache-management">Cache Management<a class="headerlink" href="#cache-management" title="Permanent link">#</a></h2>
<p>Each solver node owns and manages their own simulation cache (Please make sure the <strong>caches</strong> are pointing to different directories). In Blender, user has to manually save/load the cache file. It is due to the limitation of python API, we can't get a call back from blender when it closes to automatically save a dirty cache. To minimizing confusion, we have decided to just let the user manually manage the cache files. HiPhyEngine cache save/load are registered Blender operators too, so user can also write simple scripts to manages the cache IO when there are multiple solver nodes.</p>
<h2 id="properties">Properties<a class="headerlink" href="#properties" title="Permanent link">#</a></h2>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Simulate In Memory</td>
<td>If unchecked, the simulator will offload unused data to disk to minimize memory footprint</td>
</tr>
</tbody>
</table>
<p>HiPhyEngine have to cache the whole simulation timeline and stores necessary intermediate data for simulation restarts. It can be very memory consuming, especially for volumetric simulations with deformable bodies. Unchecking the <strong>simulate in memory</strong> will allow the HiPhyEngine to offload unused data in the cache folder, and load them back in when requested.</p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Description</th>
<th>Animatable</th>
</tr>
</thead>
<tbody>
<tr>
<td>Frame Start</td>
<td>The start frame of the simulation</td>
<td></td>
</tr>
<tr>
<td>Frame End</td>
<td>The end frame of the simulation</td>
<td></td>
</tr>
<tr>
<td>Solver Scale</td>
<td>Scale factor between the scene and the solver space</td>
<td>YES</td>
</tr>
<tr>
<td>Number of Subframes</td>
<td>Number of substeps inside each frame</td>
<td>YES</td>
</tr>
<tr>
<td>Frame Rate</td>
<td>Number of frames per second</td>
<td>YES</td>
</tr>
<tr>
<td>Perform curve curve continuous time collision</td>
<td>If continuous time collision will be performed for elastic rods. see <a href="../../material-models/elastic-rod/#continuous-time-collision">elastic rods</a> for more detail</td>
<td>YES</td>
</tr>
<tr>
<td>Newton Tolerance</td>
<td>The order of error reduction for the Newton iteration</td>
<td>YES</td>
</tr>
<tr>
<td>CG Tolerance</td>
<td>The order of error reduction for the linear solve iteration</td>
<td>YES</td>
</tr>
<tr>
<td>Max Newton Iterations</td>
<td>The maximum number of Newton iterations the solver will perform</td>
<td>YES</td>
</tr>
<tr>
<td>Max Continuous Time Iterations</td>
<td>The maximum number of continuous collision detection iteration the solver will perform</td>
<td>YES</td>
</tr>
</tbody>
</table>
<h2 id="number-of-subframes">Number of Subframes<a class="headerlink" href="#number-of-subframes" title="Permanent link">#</a></h2>
<p>The default value for the number of subframes is <span class="arithmatex">\(10\)</span>. It is a very conservative setting that will create stable simulation in most cases. The number of subframes has the most drastic effect on the simulation time, user can choose to reduce the number of subframes to improve the simulation speed.</p>
<h2 id="subframe-interpolation">Subframe interpolation<a class="headerlink" href="#subframe-interpolation" title="Permanent link">#</a></h2>
<p>HiPhyEngine exports the simulation data at each frame, and linearly interpolate the subframes inside the simulator. HiPhyEngine currently does not support export subframe data from rig. If the animation input has a large rotation within a frame, HiPhyEngine will not be able to handle it properly, user will need to manually increase the frame rate for the scene, stretch out the frames and pass it into the simulator with corresponding frame rate (don't forget to reduce the number of subframes as well).</p>
<h2 id="solver-tolerance-and-simulation-performance">Solver Tolerance and Simulation Performance<a class="headerlink" href="#solver-tolerance-and-simulation-performance" title="Permanent link">#</a></h2>
<p>Lower the tolerance is, longer the simulation will need to run to achieve that. The default values are set as conservative. They will make sure the simulation will run through in the vast majority of the cases, however, they are also overly safe for most cases. If the simulation rig is too slow, those are the parameters need to be tuned. Smaller tolerance will run significantly faster, but might introduce jitters and other instabilities. Those tolerance are also <strong>animatable</strong>, so during shot work, user can selectively reduce the tolerance if they see instability in certain frames.</p>
<p>An example output of the simulation might look like:</p>
<div class="highlight"><pre><span></span><code>Newton iteration 0: 67.2891, step size: 1. CG iteration: 0
Newton iteration 1: 6.89694, step size: 1. CG iteration: 9
Newton iteration 2: 2.23009, step size: 1. CG iteration: 9
Newton iteration 3: 0.273542, step size: 1. CG iteration: 7
Newton iteration 4: 0.00789377, step size: 1. CG iteration: 8
Newton iteration 5: 0.000133047, step size: 1. CG iteration: 9
Newton iteration 6: 6.69312e-06, step size: 1. CG iteration: 9
Newton iteration 7: 1.41424e-07, step size: 1. CG iteration: 10
</code></pre></div>
<p>User should see the Newton iteration goes down steadily. If the Newton iteration does not converge (i.e. reducing), user might need to reduce the CG tolerance.</p>
<p>Please see <a href="../../material-models/deformable-body/#grid-embedding">deformable body</a> for the grid parameters.
Please see <a href="../../material-models/elastic-rod/#preloading">elastic rod</a> for the preloading.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Â© 2026 HiPhyEngine
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate"], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>